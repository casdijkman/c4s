{#
SPDX-FileCopyrightText: 2021 Cas Dijkman

SPDX-License-Identifier: GFDL-1.3-only
#}

{% extends "docs/layouts/default.njk" %}

{% set description = "C4S CSS documentation list of rules page" %}

{% block content %}
    <div class="mw8 center p2 p3-s">
        <div class="row f5 b sticky bg-white bb bw1 b--black-20 transition-medium" style="top: var(--header-height);">
            <div class="col-12 col-3-m col-2-l p2">
                Selectors
            </div>
            <div class="col-12 col-m p2">
                Declarations
            </div>
            <div class="col-12 col-2-m p2">
                Module
            </div>
        </div>

        {% for file in files %}
            {% if file.isModule and file.isRaw %}
                {% for rule in file.css.stylesheet.rules %}
                    <div class="row bt b--black-20">
                        <div class="col-12 col-3-m col-2-l p2">
                            {% for selector in rule.selectors %}
                                {{ selector }}{% if not loop.last %},<br>{% endif %}
                            {% endfor %}
                        </div>
                        <div class="col-12 col-m p2 word-break-word">
                            {% if rule.declarations.length === 1 %}
                                {% for declaration in rule.declarations %}
                                    {{ declaration.property }}: {{ declaration.value }};
                                {% endfor %}
                            {% else %}
                                <ul class="list-reset bl pv1 pl3 b--moon-gray bw2">
                                    {% for declaration in rule.declarations %}
                                        <li>
                                            {{ declaration.property }}: {{ declaration.value }};
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        </div>
                        <div class="col-12 col-2-m p2">
                            {{ file.name }}
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        {% endfor %}
    </div>
{% endblock %}
